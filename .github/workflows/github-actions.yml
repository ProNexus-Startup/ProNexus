name: GitHub Actions
run-name: ${{ github.actor }} is reading my email üöÄ
on: [push]

jobs:
  Explore-GitHub-Actions:
    runs-on: ubuntu-latest
    steps:
      - name: Set up Python
        uses: actions/setup-python@v3
        with:
          python-version: '3.x'  # Specify the Python version you need
      - name: Install dependencies
        run: python -m pip install --upgrade pip && pip install -r ./python-logic/requirements.txt
      - name: Run outlook_reader.py
        env:
          TENANT_ID: ${{ secrets.TENANT_ID }}
          CLIENT_ID: ${{ secrets.CLIENT_ID }}
          CLIENT_SECRET: ${{ secrets.CLIENT_SECRET }}
          BACKEND_URL: ${{ secrets.BACKEND_URL }}
          OPENAI_API_KEY: ${{ secrets.OPENAI_API_KEY }}
          EMAIL_ADDRESS: ${{ secrets.EMAIL_ADDRESS }}
          PASSWORD: ${{ secrets.PASSWORD }}
          BACKEND_PASSWORD: ${{ secrets.BACKEND_PASSWORD }}
        run: python ./python-logic/outlook_reader.py
      - run: echo "üçè This job's status is ${{ job.status }}."
